<?php

use Nether\Blog;
use Nether\Common;
use Nether\Database;

/**
  * @var Blog\Blog $Blog
  * @var Database\Struct\PrototypeFindResult $Posts
  * @var Common\Datastore $Popular
  */

?>

<?php $Surface->Area('blog/blog-header', $__SCOPE) ?>

<div class="pt-4 pb-4">
	<div class="container">
		<div class="row">
			<div class="col">
				<h2>Latest Posts</h2>
				<hr class="mb-4" />

				<?php foreach($Posts as $Post): /** @var Nether\Blog\Post $Post */ ?>
				<div>
					<div><?php $Printer($Post->DateCreated->Get(Common\Values::DateFormatFancyDateTime)) ?></div>
					<h3 class="font-size-larger">
						<a href="<?php $Printer($Post->GetURL()) ?>"><?php $Printer($Post->Title) ?></a>
					</h3>
					<div class="opacity-50 mb-2">
						<a href="" class="btn btn-outline-light p-1 pl-2 pr-2 mb-2">Eventually</a>
						<a href="" class="btn btn-outline-light p-1 pl-2 pr-2 mb-2">Tags</a>
						<a href="" class="btn btn-outline-light p-1 pl-2 pr-2 mb-2">Here</a>
					</div>
					<div class="mb-2">
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
					</div>
					<div class="mb-2">
						<a href="<?php $Printer($Post->GetURL()) ?>" class="fw-bold">Continue Reading...</a>
					</div>
					<div class="opacity-50">
						<i class="mdi mdi-fw mdi-clock-time-four"></i>
						n Min Read
					</div>
				</div>
				<hr class="mt-4 mb-4" />
				<?php endforeach; ?>

				<div class="text-center">
					[pagination widget]
				</div>
			</div>
			<div class="opacity-50 col-4">

				<!-- SIDEBAR: ABOUT -->
				<div class="quotron mb-6">
					<div class="fw-bold text-uppercase">About</div>
					<hr class="mt-2 mb-2" />
					<div><?php echo nl2br($Encoder($Blog->Details)) ?></div>
				</div>

				<!-- SIDEBAR: TAGS -->
				<div class="quotron mb-6">
					<div class="fw-bold text-uppercase">Tags</div>
					<hr class="mt-2 mb-3" />
					<div>
						<a href="" class="btn btn-outline-light p-1 pl-2 pr-2 mb-2">Eventually</a>
						<a href="" class="btn btn-outline-light p-1 pl-2 pr-2 mb-2">Tags</a>
						<a href="" class="btn btn-outline-light p-1 pl-2 pr-2 mb-2">Here</a>
					</div>
				</div>

				<!-- SIDEBAR: POPULAR POSTS -->
				<div class="quotron mb-6">
					<div class="fw-bold text-uppercase">Popular Posts</div>
					<hr class="mt-2 mb-2" />
					<div class="hr-hide-last">
						<?php foreach($Popular as $Post): /** @var Nether\Blog\Post $Post */ ?>
						<div>
							<div class="font-size-smaller mb-1">
								<a href=""><?php $Printer($Post->DateCreated->Get(Common\Values::DateFormatFancyDateTime)) ?></a>
							</div>
							<div class="fw-bold pb-1"><a href=""><?php $Printer($Post->Title) ?></a></div>
						</div>
						<hr class="mt-3 mb-3" />
						<?php endforeach; ?>
					</div>
				</div>

				<!-- SIDEBAR: BLOG STATS -->
				<div class="quotron mb-6">
					<div class="row tight align-items-center">
						<div class="col-auto"><i class="mdi mdi-fw mdi-file-document font-size-larger"></i></div>
						<div class="col fw-bold">Posts</div>
						<div class="col-auto"><?php $Printer($Blog->CountPosts) ?></div>
						<div class="col-12"><hr class="mt-2 mb-2" /></div>

						<div class="col-auto"><i class="mdi mdi-fw mdi-comment-text font-size-larger"></i></div>
						<div class="col fw-bold">Comments</div>
						<div class="col-auto"><?php $Printer($Blog->CountComments) ?></div>
						<div class="col-12"><hr class="mt-2 mb-2" /></div>

						<div class="col-auto"><i class="mdi mdi-fw mdi-image font-size-larger"></i></div>
						<div class="col fw-bold">Images</div>
						<div class="col-auto"><?php $Printer($Blog->CountImages) ?></div>
						<div class="col-12"><hr class="mt-2 mb-2" /></div>

						<div class="col-auto"><i class="mdi mdi-fw mdi-xml font-size-larger"></i></div>
						<div class="col fw-bold">Code Blocks</div>
						<div class="col-auto"><?php $Printer($Blog->CountCodeBlocks) ?></div>
						<div class="col-12"><hr class="mt-2 mb-2" /></div>

						<div class="col-auto"><i class="mdi mdi-fw mdi-clock-time-four font-size-larger"></i></div>
						<div class="col fw-bold">Reading Time</div>
						<div class="col-auto"><?php $Printer($Blog->CountReadingTime) ?></div>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>


